(this["webpackJsonpmarvelous-social-network1"]=this["webpackJsonpmarvelous-social-network1"]||[]).push([[7],{384:function(e,t,a){"use strict";a.r(t);var n,r,s=a(0),i=a(361),c=a(29),o=a(2),l=Object(s.createContext)(null),u=Object(i.a)().shape({firstName:Object(i.b)().required("First name is required"),lastName:Object(i.b)().required(),email:Object(i.b)().email().required(),password:Object(i.b)().min(8).max(24).required()}),d=function(e){var t=e.children,a=Object(c.b)(),n=a.user,r=a.setUser,s={validationSchema:u,user:n,setUser:r};return Object(o.jsx)(l.Provider,{value:s,children:t})},m=a(64),j=a(63),b=a(27),h=a(86),p=a(159),O=a(7),f=a(65),x=a(14),g=a(155),v=a(382),w=a(131),N=a(156),C=a(378),S=a(379),I=a(181),y=a(225),D=a.n(y),T=a(226),E=a.n(T),k=a(4),F=a(5),P=a(52),q=F.a.div(n||(n=Object(k.a)(["\n  color: red;\n  background-color: #FFCDD2;\n  padding: 1rem;\n  font-size: 1rem;\n  border-radius: .4rem;\n"]))),U=Object(F.a)(P.i)(r||(r=Object(k.a)(["\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  display: flex;\n"]))),W=Object(N.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})),A=function(e){var t=e.icon,a=e.handlerShowPassword,n=e.setIcon,r=e.getUser,i=e.signInError,c=e.megaData,l=c.megaEmail,u=c.megaPass,d=e.handleMegaData,m=W(),j=m.paper,b=m.form,h=m.submit;return Object(s.useEffect)((function(){n(!1)}),[]),Object(o.jsx)(C.a,{component:"main",maxWidth:"xs",children:Object(o.jsxs)("div",{className:j,children:[Object(o.jsx)(w.a,{component:"h1",variant:"h5",children:"SIGN IN"}),i?Object(o.jsx)(q,{children:i}):null,Object(o.jsxs)("form",{onSubmit:r,className:b,noValidate:!0,children:[Object(o.jsx)(v.a,{onChange:d,value:l,variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0}),Object(o.jsx)(v.a,{onChange:d,value:u,variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:t?"text":"password",id:"password",autoComplete:"current-password",InputProps:{endAdornment:Object(o.jsx)(S.a,{postition:"end",children:Object(o.jsx)(I.a,{onClick:a,children:t?Object(o.jsx)(D.a,{}):Object(o.jsx)(E.a,{})})})}}),Object(o.jsx)(g.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:h,children:"Sign In"})]})]})})},V=a(380),G=Object(N.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}})),M=function(e){var t=e.icon,a=e.handlerShowPassword,n=e.setIcon,r=e.handlerValidateForm,i=e.handlerInputValues,c=e.userData,l=c.firstName,u=c.lastName,d=c.email,m=c.password,j=e.inputErrors,b=j.firstName,h=j.lastName,p=j.email,O=j.password,f=G();return Object(s.useEffect)((function(){n(!1)}),[]),Object(o.jsx)(C.a,{component:"main",maxWidth:"xs",children:Object(o.jsxs)("div",{className:f.paper,children:[Object(o.jsx)(w.a,{component:"h1",variant:"h5",children:"SIGN UP"}),Object(o.jsxs)("form",{onSubmit:r,className:f.form,noValidate:!0,children:[Object(o.jsxs)(V.a,{container:!0,spacing:2,children:[Object(o.jsx)(V.a,{item:!0,xs:12,sm:6,children:Object(o.jsx)(v.a,{value:l,onChange:i,error:!!b,helperText:b,autoComplete:"fname",name:"firstName",variant:"outlined",required:!0,fullWidth:!0,id:"firstName",label:"First Name",autoFocus:!0})}),Object(o.jsx)(V.a,{item:!0,xs:12,sm:6,children:Object(o.jsx)(v.a,{value:u,onChange:i,error:!!h,helperText:h,variant:"outlined",required:!0,fullWidth:!0,id:"lastName",label:"Last Name",name:"lastName",autoComplete:"lname"})}),Object(o.jsx)(V.a,{item:!0,xs:12,children:Object(o.jsx)(v.a,{value:d,onChange:i,error:!!p,helperText:p,variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email"})}),Object(o.jsx)(V.a,{item:!0,xs:12,children:Object(o.jsx)(v.a,{value:m,onChange:i,error:!!O,helperText:O,variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:t?"text":"password",id:"password",autoComplete:"current-password",InputProps:{endAdornment:Object(o.jsx)(S.a,{postition:"end",children:Object(o.jsx)(I.a,{onClick:a,children:t?Object(o.jsx)(D.a,{}):Object(o.jsx)(E.a,{})})})}})})]}),Object(o.jsx)(g.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:f.submit,children:"Sign Up"})]})]})})},z=a(381),J=Object(N.a)({buttonGroup:{marginTop:"5rem"},button:{padding:"0.5rem 3rem"}}),B=function(e){var t=e.handlerChangeForm,a=e.handlerThemeForm,n=e.form,r=J(),s=r.buttonGroup,i=r.button;return Object(o.jsxs)(z.a,{className:s,children:[Object(o.jsx)(g.a,{className:i,onClick:t(!0),onMouseDown:a(!0),variant:"contained",color:n?"primary":"white",size:"large",children:Object(o.jsx)("strong",{children:"Sign In"})}),Object(o.jsx)(g.a,{className:i,onClick:t(!1),onMouseDown:a(!1),variant:"contained",color:n?"white":"secondary",size:"large",children:Object(o.jsx)("strong",{children:"Sign Up"})})]})},L=Object(h.a)({overrides:{MuiOutlinedInput:{adornedEnd:{paddingRight:0}}},palette:{primary:{main:"#3949AB"},secondary:{main:"#7e57c2"}}}),R={firstName:"",lastName:"",email:"",password:""},H={firstName:"",lastName:"",email:"",password:""},K={method:"POST",url:"http://localhost:3000/users",headers:{Accept:"application/json","Content-Type":"application/json;charset=UTF-8"},data:{}},Q=function(){var e=Object(s.useState)(!1),t=Object(b.a)(e,2),a=t[0],n=t[1],r=Object(s.useState)(!0),i=Object(b.a)(r,2),c=i[0],u=i[1],d=Object(s.useState)(""),h=Object(b.a)(d,2),g=h[0],v=h[1],w=Object(s.useState)(R),N=Object(b.a)(w,2),C=N[0],S=N[1],I=Object(s.useState)(H),y=Object(b.a)(I,2),D=y[0],T=y[1],E=Object(s.useState)(""),k=Object(b.a)(E,2),F=k[0],P=k[1],q=Object(s.useContext)(l),W=q.user,V=q.setUser,G=q.validationSchema,z=Object(f.a)(),J=z.error,Q=z.setOptions,X=Object(s.useCallback)((function(e){return function(){return u(e)}}),[]),Y=Object(s.useCallback)((function(e){return function(){e||v(L),e&&v("")}}),[]),Z=function(){return n((function(e){return!e}))},$=Object(s.useCallback)((function(e){e.preventDefault(),T(H),G.validate(C,{abortEarly:!1}).then((function(e){return Q(Object(j.a)(Object(j.a)({},K),{},{data:e}))})).catch((function(e){e.inner.forEach((function(e){var t=e.message,a=e.path;return a in D&&T((function(e){return Object(j.a)(Object(j.a)({},e),{},Object(m.a)({},a,t))}))}))}))}),[C,D,G,Q]),_=Object(s.useState)(null),ee=Object(b.a)(_,2),te=ee[0],ae=ee[1],ne=Object(s.useState)({email:"",password:""}),re=Object(b.a)(ne,2),se=re[0],ie=re[1];console.log(se),Object(s.useEffect)((function(){if(!J&&te){console.log(111111);var e=te.find((function(e){return e.email===se.email&&e.password===se.password}));e&&(console.log(e),V(e),localStorage.setItem("userID",e.id)),e||P("User not found. Please try again")}J&&P(J),console.log("--\x3e",te)}),[te]),console.log("this user",W);return W?Object(o.jsx)(O.a,{to:x.d}):Object(o.jsxs)(U,{children:[Object(o.jsx)(B,{handlerChangeForm:X,handlerThemeForm:Y,form:c}),Object(o.jsx)(p.a,{theme:g,children:c?Object(o.jsx)(A,{handleMegaData:function(e){return ie((function(t){return Object(j.a)(Object(j.a)({},t),{},Object(m.a)({},e.target.name,e.target.value))}))},megaData:se,signInError:F,getUser:function(e){e.preventDefault(),fetch("http://localhost:3000/users",{method:"GET"}).then((function(e){return e.json()})).then((function(e){ae(e),console.log("res",e)})),console.log("--\x3e",te)},setIcon:n,icon:a,handlerShowPassword:Z}):Object(o.jsx)(M,{handlerInputValues:function(e){S(Object(j.a)(Object(j.a)({},C),{},Object(m.a)({},e.target.name,e.target.value)))},handlerValidateForm:$,inputErrors:D,userData:C,setIcon:n,icon:a,handlerShowPassword:Z})})]})};t.default=function(){return Object(o.jsx)(d,{children:Object(o.jsx)(Q,{})})}}}]);
//# sourceMappingURL=7.40475c23.chunk.js.map